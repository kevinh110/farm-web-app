(this["webpackJsonpfarm-web-app"]=this["webpackJsonpfarm-web-app"]||[]).push([[0],{423:function(t,e,a){},668:function(t,e,a){},682:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(20),c=a.n(s),i=(a(423),a(396)),o=a(2),d=a.n(o),l=a(33),u=a(17),p=a(105),h=a(6),b=a(8),j=a(18),f=a(19),O=a(258),v=a.n(O),x=a(367),m=a(104),y=a(706),E=a(400),_=a.n(E),g=a(15),C=function(t){Object(j.a)(a,t);var e=Object(f.a)(a);function a(t){var n;Object(h.a)(this,a),n=e.call(this,t);var r=[];return r=Array.isArray(n.props.ydata[0])?[{name:"Protein",data:n.props.ydata[0]},{name:"Fat",data:n.props.ydata[1]}]:[{name:n.props.title,data:n.props.ydata}],n.state={options:{chart:{id:n.props.title,width:"10%"},xaxis:{categories:n.props.xdata},title:{text:n.props.title,align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}}},series:r},n}return Object(b.a)(a,[{key:"render",value:function(){return Object(g.jsx)(_.a,{options:this.state.options,series:this.state.series,type:"line",width:"400"})}}]),a}(r.a.Component),k=function(t){Object(j.a)(a,t);var e=Object(f.a)(a);function a(t){var n;return Object(h.a)(this,a),(n=e.call(this,t)).state={Conductivity:[],Production:[],Activity:[],Protein:[],Fat:[],dates:[]},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var t=Object(p.a)(d.a.mark((function t(){var e,a,n,r,s,c,i,o,l,p,h,b,j,f,O;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.props,a=e.data_container,n=e.id,r='SELECT * FROM c WHERE c.Animal_ID = "'.concat(n,'" ORDER BY c.datesql'),t.next=5,a.items.query(r).fetchAll();case 5:s=t.sent,c=s.resources,i=[],o=[],l=[],p=[],h=[],b=[],j=Object(u.a)(c);try{for(j.s();!(f=j.n()).done;)O=f.value,i.push(parseFloat(O.Conductivity)),o.push(parseFloat(O["ProdRate(gr/hr)"])),l.push(parseFloat(O["Activity(steps/hr)"])),h.push(parseFloat(O["Protein(%)"])),b.push(parseFloat(O["Fat(%)"])),p.push(O.datesql.split("T")[0])}catch(d){j.e(d)}finally{j.f()}this.setState({Conductivity:i,Production:o,Activity:l,Protein:h,Fat:b,dates:p}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:case"end":return t.stop()}}),t,this,[[0,18]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.dates;return 0===t.length?Object(g.jsx)("div",{}):(console.log("protein"),Object(g.jsxs)("div",{className:"grid-container",children:[Object(g.jsx)(C,{title:"Milk Production (gr/hr)",ydata:this.state.Production,xdata:t}),Object(g.jsx)(C,{title:"Conductivity",ydata:this.state.Conductivity,xdata:t}),Object(g.jsx)(C,{title:"Activity (steps/hr)",ydata:this.state.Activity,xdata:t}),Object(g.jsx)(C,{title:"Protein vs. Fat (%)",ydata:[this.state.Protein,this.state.Fat],xdata:t})]}))}}]),a}(r.a.Component),w=a(364),T=a(366),D=a(708),F=a(709),S=a(368),A=a(250),I=function(t){Object(j.a)(a,t);var e=Object(f.a)(a);function a(){return Object(h.a)(this,a),e.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var t=this.props,e=t.title,a=t.data,n=t.columns;return Object(g.jsxs)("div",{className:"subtable",children:[Object(g.jsx)("h2",{children:e}),Object(g.jsx)(D.a,{component:A.a,children:Object(g.jsxs)(w.a,{"aria-label":"simple table",children:[Object(g.jsx)(F.a,{children:Object(g.jsx)(S.a,{children:n.map((function(t){return Object(g.jsx)(x.a,{style:{"font-weight":"bold"},children:t})}))})}),Object(g.jsx)(T.a,{children:Object(g.jsx)(S.a,{children:a.map((function(t){return Object(g.jsx)(x.a,{children:t})}))},e)})]})})]})}}]),a}(r.a.Component),P=function(t){Object(j.a)(a,t);var e=Object(f.a)(a);function a(t){var n;return Object(h.a)(this,a),(n=e.call(this,t)).state={status_data:[],preds_data:[],data_data:[]},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var t=Object(p.a)(d.a.mark((function t(){var e,a,n,r,s,c,i,o,u,p,h,b,j,f,O,v;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.props,a=e.data_container,n=e.preds_container,r=e.id,s='SELECT * FROM c WHERE c.Animal_ID = "'.concat(r,'" ORDER BY c.datesql DESC OFFSET 0 LIMIT 1'),t.next=5,a.items.query(s).fetchAll();case 5:return c=t.sent,i=c.resources,console.log("SubtableList"),console.log(i),o=Object(l.a)(i,1),u=o[0],p=[u.AnimalStatus,u.Gynecology_Status],h=[u["Yield(gr)"],u.DIM,u.Lactation_Num],t.next=14,n.items.query(s).fetchAll();case 14:b=t.sent,j=b.resources,f=Object(l.a)(j,1),O=f[0],v=[O.prediction,"D"],this.setState({status_data:p,preds_data:v,data_data:h}),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.error(t.t0);case 24:case"end":return t.stop()}}),t,this,[[0,21]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(I,{title:"Prediction",data:this.state.preds_data,columns:["Mastitis","Pathogen"]}),Object(g.jsx)(I,{title:"Status",data:this.state.status_data,columns:["Animal","Gynecology"]}),Object(g.jsx)(I,{title:"Data",data:this.state.data_data,columns:["Yield(gr)","DIM","Lactation"]})]})}}]),a}(r.a.Component),L=(a(668),function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={farm_data:[],data_container:null,preds_container:null},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=Object(p.a)(d.a.mark((function t(){var e,n,r,s,c,i,o,p,h,b,j,f,O,v,x,m,y,E,_,g,C,k,w;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=a(679),n=e.CosmosClient,"https://dairy-project-cosmos.documents.azure.com:443","WNLJbEHT9NTWL9wGygnQMvzX2JUJo5Iv72OPoba9dTyKfbVrf1FjK6vY3XXaN8BPsQ5iC5UTkOQLVJ8UIBEk4A==",r=new n({endpoint:"https://dairy-project-cosmos.documents.azure.com:443",key:"WNLJbEHT9NTWL9wGygnQMvzX2JUJo5Iv72OPoba9dTyKfbVrf1FjK6vY3XXaN8BPsQ5iC5UTkOQLVJ8UIBEk4A==",connectionPolicy:{enableEndpointDiscovery:!1}}),t.next=7,r.database("dairy-project-database").read();case 7:return s=t.sent,c=s.database,t.next=11,c.container("milk-daily-data").read();case 11:return i=t.sent,o=i.container,t.next=15,c.container("mastitis-predictions").read();case 15:return p=t.sent,h=p.container,"SELECT DISTINCT c.Animal_ID from c",t.next=20,o.items.query("SELECT DISTINCT c.Animal_ID from c").fetchAll();case 20:b=t.sent,j=b.resources,f=[],O=Object(u.a)(j),t.prev=24,O.s();case 26:if((v=O.n()).done){t.next=37;break}return x=v.value,m=x.Animal_ID,y='SELECT * FROM c WHERE c.Animal_ID = "'.concat(m,'" ORDER BY c.datesql DESC OFFSET 0 LIMIT 1'),t.next=32,h.items.query(y).fetchAll();case 32:E=t.sent,0!==(_=E.resources).length?(g=Object(l.a)(_,1),C=g[0],k=[m,C.datesql,C.prediction],f.push(k)):(w=[m],f.push(w));case 35:t.next=26;break;case 37:t.next=42;break;case 39:t.prev=39,t.t0=t.catch(24),O.e(t.t0);case 42:return t.prev=42,O.f(),t.finish(42);case 45:this.setState({farm_data:f,data_container:o,preds_container:h}),t.next=51;break;case 48:t.prev=48,t.t1=t.catch(0),console.error(t.t1);case 51:case"end":return t.stop()}}),t,this,[[0,48],[24,39,42,45]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.farm_data,e=this.state,a=e.data_container,n=e.preds_container,r={search:!0,download:!1,print:!1,viewColumns:!1,filterType:"dropdown",filter:!0,responsive:"standard",selectableRows:!1,expandableRows:!0,expandableRowsHeader:!1,expandableRowsOnClick:!0,renderExpandableRow:function(t,e){var r=t.length+1;console.log("rowData: ",t);var s=t[0];return Object(g.jsxs)(x.a,{colSpan:r,children:[Object(g.jsx)(x.a,{colSpan:r,children:Object(g.jsx)(P,{id:s,data_container:a,preds_container:n})}),Object(g.jsxs)(x.a,{colSpan:r,children:[Object(g.jsx)("h2",{children:" Trends "}),Object(g.jsx)(k,{id:s,data_container:a})]})]})}},s=Object(m.a)({palette:{type:"light"},typography:{useNextVariants:!0}}),c={ExpandButton:function(t){return Object(g.jsx)(O.ExpandButton,Object(i.a)({},t))}};return Object(g.jsx)(y.a,{theme:s,children:Object(g.jsx)(v.a,{title:"Cow Dashboard",data:t,columns:[{name:"ID Number",options:{filter:!1,searchable:!0}},{name:"Last Updated",options:{filter:!1,searchable:!1}},{name:"Alert",options:{filter:!0,searchable:!1}}],options:r,components:c})})}}]),n}(r.a.Component));var R=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(L,{})})},M=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,712)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),n(t),r(t),s(t),c(t)}))};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root")),M()}},[[682,1,2]]]);
//# sourceMappingURL=main.e9a0842e.chunk.js.map